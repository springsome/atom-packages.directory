<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Atom Packages Directory</title>
    <link rel="stylesheet" href="/assets/application.css">
    <link rel="stylesheet" href="/assets/admin.css">
    <link rel="icon" href="/assets/favicon.png">

  </head>
  <body>
    <header>
      <h1><a href="/"><span class="octicon octicon-package"></span>Atom Packages Directory</a></h1>
      <span class="subheader">a package directory for a <a href="http://atom.io">text editor of the 21st Century</a></span>
    </header>
    <section id="content">
      <h1>
  Save Autorun
  <a href="https://github.com/hyperfresh/save-autorun">
    <span class="octicon octicon-mark-github"></span>
  </a>
  
</h1>
<div class="package-install">
  <strong>Install with:</strong>
  <pre>
    apm install save-autorun
  </pre>
</div>
<h1 id="save-autorun">Save Autorun</h1>

<p>Automatically run commands and or scripts when you save files.
```cson
# converts an x.md file into x.html using pandoc
‘<em>*/</em>.md’: ‘pandoc ${file} -o ${name}.html’</p>

<h1 id="compiles-a-xless-file-into-xcss-using-lessc">compiles a x.less file into x.css using lessc</h1>
<p>‘<em>*/</em>.less’: ‘lessc ${file} ${name}.css’
```
### Variables</p>

<p>These are a list of variables you can use in command definitions. The variables will be replaced with corresponding information from the saved file.</p>

<ul>
  <li><code>${file}</code>: the name of the file saved.</li>
  <li><code>${name}</code>: the name of the file saved without the file extension.</li>
  <li><code>${path}</code>: the absolute path to the file saved.</li>
  <li><code>${ext}</code>: the extension of the file saved.</li>
  <li><code>${dir}</code>: the absolute path to the directory containing the file saved.</li>
  <li><code>${project}</code>: the absolute path to the root project directory. if a project doesn’t exist, then this variable will be identical to <code>${dir}</code>.</li>
</ul>

<p>If the saved file was within a single Project, then that Project’s root directory will be used as the <strong>current working directory</strong> for its commands. (behavior if a file was within multiple Projects is undefined.)</p>

<p>If the saved file was not within any Project, then the directory containing that file will be used.</p>

<h3 id="save-definitions">Save Definitions</h3>

<p><em>(To all users who previously used a <code>save-autorun.cson</code> for global definitions prior to version 0.3, please convert your definitions to the newly generated <code>.save.cson</code>)</em></p>

<p>When this package is activated, a file <code>.save.cson</code> will appear in Atom’s config directory. An option <code>Open Save Definitions</code> will also appear under the <code>File</code> tab to easily access this file.</p>

<p>A newly generated <code>.save.cson</code> will give you:
<code>cson
"*": {}
</code>
Under <code>"*"</code> (the global group), you can define shell commands by using a glob as a key and a command as the value. Any file saved that matches that glob will trigger that command:
<code>cson
"*": {
	"**/*.less": "lessc ${file} ${name}.css"
}
</code>
You can also define multiple commands to be used by using an array of commands as the value instead of just one:
<code>cson
"*": {
	"**/*.less": [
		"lessc ${file} ${name}.css"
		"(another command)"
	]
}
</code>
You can also define both commands and scripts to trigger by using an object with a <code>command</code> key and <code>script</code> key as the value. For scripts, the value can be a path to a <code>.coffee</code> file that is absolute or relative to the file saved: (note that the value for <code>command</code> and <code>script</code> can also be a string or an array of strings)
<code>cson
"*": {
	"**/*.less":
		command: [
			"lessc ${file} ${name}.css"
			"(another command)"
		]
		script: "save.coffee"
}
</code>
Information on what goes in a save script is in the <a href="#save-scripts">Save Scripts</a> section.</p>

<hr />

<p>In addition, you can make project-specific groups (as opposed to the <code>"*"</code> group) by using the absolute path to the project folder as the key:
<code>cson
"*": {}
"C:\Git\Project\":
	"**/*.less": "lessc ${file} ${name}.css"
</code>
### Project-Specific Save Definitions
If desired, you can also make your own <code>.save.cson</code> file in the root of your project folder. Please note that the format the definitions is not exactly the same as the global <code>.save.cson</code> file, the only difference being that you do not need to define groups such as <code>"*"</code>. Therefore, this is a valid project-specific <code>.save.cson</code>:
<code>cson
"**/*.less": "lessc ${file} ${name}.css"
</code>
Note that if this file exists, then the global <code>.save.cson</code> will be ignored.</p>

<p>As an added bonus, you can also create a <code>.save.coffee</code> file in the root of your project folder. This file will be run any time any file in that project folder is saved.</p>

<h3 id="save-scripts">Save Scripts</h3>
<p>(this feature isn’t fully planned out yet)</p>

<p>A save script is a single function with the path to the file saved as the first argument.
<code>coffee
module.exports = (file) -&gt;
	atom.notifications.addSuccess "file saved!"
</code></p>

<h3 id="settings">Settings</h3>

<ul>
  <li><code>save-autorun.notifications</code>: show notifications when a save triggers commands.</li>
  <li><code>save-autorun.timeout</code>: the amount of time in ms until a command times out</li>
</ul>

<h3 id="keybindings">Keybindings</h3>

<p><code>cson
'atom-workspace':
	'ctrl-alt-s': 'save-autorun:open-global-definitions'
</code></p>

<p>The <code>open-global-definitions</code> command is binded for easy access to the global definitions file.</p>

<h3 id="requirements">Requirements</h3>

<ul>
  <li><code>minimatch</code>: used to match the files to GLOBs.</li>
  <li><code>season</code>: used to read/write CSON.</li>
</ul>
<section class="package-keywords">
  <strong>Keywords:</strong> save, command, commands, autorun <a href="https://github.com/hyperfresh/save-autorun/edit/master/package.json">Suggest keywords</a>
</section>

    </section>
    <footer>
      <p>
        <span class="octicon octicon-code"></span> with <span class="octicon octicon-heart"></span> by <a href="http://bastilian.me">@bastilian</a><br />
        <small>
          2043 out of 5684 packages categorised.
          | Last updated: 2016-09-29</small>
      </p>
      <p>

      </p>
    </footer>
    <div style="opacity:.15;position:relative;z-index:-1;">
      <div class="system"></div>
      <div class="system-2"></div>
    </div>
    <a href="https://github.com/bastilian/atom-packages.directory">
      <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png">
    </a>
    
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-75253038-3', 'auto');
        ga('send', 'pageview');

      </script>
      <script type="text/javascript">
          window.cookieconsent_options = {"message":"This website uses cookies to ensure you get the best experience on our website","dismiss":"Got it!","learnMore":"More info","link":null,"theme":"light-floating"};
      </script>

      <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/1.0.10/cookieconsent.min.js"></script>

    
  </body>
</html>
